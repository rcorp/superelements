<link rel="import" href="../../bower_components/polymer/polymer.html">
<dom-module id="super-form">
 <template>
    <div>
      <content></content>
    </div>
  </template>
<script>
Polymer({
  is: "super-form",
  extends:'form',
  ready:function()
        {
        	this.getjson();
        },
        properties:{
           value: {
            type: Object,
            value:{}
          }
        },
  getjson:function(){
        var formname=this.getAttribute('name');
        var child =Polymer.dom(this).children;
        var json={};
        for(var j=0;j<child.length;j++){
              var widget=child[j];
              if(widget.getAttribute('name')){
                if(widget.value){
                  json[widget.getAttribute('name')]=widget.value;
                }else if(widget.getAttribute('data-value')){
                  json[widget.getAttribute('name')]=widget.getAttribute('data-value');
                }else if(widget.getAttribute('type')=="checkbox"||widget.getAttribute('role')=="checkbox"||widget.getAttribute('type')=="radiobutton"||widget.getAttribute('role')=="radiobutton"){
                  json[widget.getAttribute('name')]= "checked";
                }
                else{
                  json[widget.getAttribute('name')]=widget.innerHTML;
                }
              }else{
                continue;
              }
        }
        this.value[formname]=json;
        console.log(this.value);
  }
});

</script>
</dom-module>